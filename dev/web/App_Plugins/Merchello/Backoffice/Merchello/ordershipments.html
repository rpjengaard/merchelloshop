<div data-ng-controller="Merchello.Backoffice.OrderShipmentsController" data-ng-show="loaded" class="merchello">
    <div class="umb-panel umb-editor-wrapper">
        
    <div class="umb-editor-header umb-panel-header">
      <div class="umb-panel-header-content-wrapper">

        <div class="umb-panel-header-content">
          <div class="umb-panel-header-left-side -top-position">
            <div class="umb-panel-header-title-wrapper">
              <div class="umb-panel-header-name">
                <localize key="merchelloOrder_sales" /> / <localize key="merchelloOrderView_invoiceNumber" />{{invoice.invoiceNumber}}
              </div>
            </div>
          </div>
        </div>

        <merchello-tabs tabs="tabs"></merchello-tabs>
      </div>
    </div>

    <merchello-panel>
      
      <div class="merchello-list-view" data-ng-show="preValuesLoaded">
        <div class="control-group umb-control-group">
          <!--<div class="merchello-section-label">
            Shipment Information
            <small>Shipments & Providers</small>
          </div>-->

            <table class="table" data-ng-hide="shipments.length === 0">
                <thead>
                <tr>
                    <th>Shipment #</th>
                    <th>Date</th>
                    <th>Status</th>
                    <th>Origin</th>
                    <th>Destination</th>
                    <th>Items</th>
                    <th>Tracking #</th>
                    <th>Actions</th>
                </tr>
                </thead>
                <tbody>
                <tr data-ng-repeat="shipment in shipments">
                    <td>#{{shipment.shipmentNumber}}</td>
                    <td>{{shipment.shippedDate | date: settings.dateFormat }}</td>
                    <td>{{shipment.shipmentStatus.name}}</td>
                    <td merchello-address set-address="shipment.getOriginAddress()"></td>
                    <td merchello-address set-address="shipment.getDestinationAddress()"></td>
                    <td>{{shipment.items.length}}</td>
                    <td>{{shipment.trackingCode}}</td>
                    <td>
                        <div class="pull-right" style="position: relative;">
                        <a class="btn btn-info" href="#" data-toggle="dropdown">
                            <localize key="general_actions" class="ng-isolate-scopee">Actions</localize>
                            <span class="caret"></span>
                        </a>
                        <ul class="dropdown-menu umb-actions" role="menu" aria-labelledby="dLabel">
                            <li><a data-ng-click="openShipmentDialog(shipment)">Edit Shipment</a></li>
                            <li data-ng-hide="!isEditableAddress(shipment.shipmentStatus)"><a data-ng-click="openAddressDialog(shipment, 'origin')">Edit Origin</a></li>
                            <li data-ng-hide="!isEditableAddress(shipment.shipmentStatus)"><a data-ng-click="openAddressDialog(shipment, 'destination')">Edit Destination</a></li>
                            <li><a data-ng-click="updateShippingAddressLineItem(shipment)">Set Sale Destination</a></li>
                            <li data-ng-hide="!isEditableAddress(shipment.shipmentStatus)"><a data-ng-click="openDeleteShipmentDialog(shipment)">Delete Shipment</a></li>
                        </ul>
                        </div>
                    </td>
                </tr>
                </tbody>
            </table>

            <div class="well" style="margin-top: 1em" data-ng-hide="shipments.length > 0">
              There are no shipments.
            </div>

      

        </div>
      </div>
    </merchello-panel>
  </div>
</div>